<html>
	<head>
		<meta charset="UTF-8">
		<title>Incline - Peter Fernandes</title>
		<link rel="stylesheet" href="incline.css">
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900&display=swap" rel="stylesheet">
		<meta name="description" content="Online store page for Peter's 2022 album, Incline">
		<link rel="canonical" href="https://pfernandes.com" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="og:image" content="https://pfernandes.com/images/peter-headshot.jpg">
		<meta name="color-scheme" content="light dark">
		<style>
			:root {
				--text-color: black;
				--text-color-secondary: #222222;
				--background-color: white;
			}

			@media (prefers-color-scheme: dark) {
				:root {
					--text-color: white;
					--text-color-secondary: #d1d1d1;
					--background-color: #191919;
				}
			}

			body {
				height: 100%;
				font-family: Roboto, sans-serif;
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: stretch;
				font-size: 16px;
				margin: 0;
				color: var(--text-color);
				background: var(--background-color);
			}

			a {
				color: inherit;
				text-decoration: none;
			}

			#content {
				max-width: 100%;
				margin: auto;
				width: 1200px;
				padding: 0 40px;
				box-sizing: border-box;
				padding-top: 40px;
				display: flex;
				flex-direction: column;
				justify-content: space-between;
			}

			#album-info {
				display: grid;
				grid-template-columns: auto auto;
				grid-template-rows: max-content max-content auto;
				justify-content: flex-start;
				column-gap: 1em;
			}

			#tracklist {
				display: grid;
				grid-template-columns: auto auto;
				grid-row: span 3;
			}

			#tracklist ol {
				margin-top: 0;
			}

			#tracklist li:nth-child(n+2) {
				margin-top: 1em;
			}

			#main-cover {
				height: 400px;
				width: 400px;
				background: gray;
			}
			.track-personnel {
				color: var(--text-color-secondary);
				font-size: 80%;
				margin-top: .3em;
				line-height: 1.5em;
			}
			.personnel-credit {
				white-space: nowrap;
			}
			.personnel-name {
				font-weight: bold;
				color: var(--text-color);
			}
			#playback-controls {
				grid-column: 1;
				display: grid;
				grid-template-columns: min-content auto;
				grid-template-rows: auto auto;
				align-items: flex-end;
				font-size: 85%;
				user-select: none;
				-webkit-user-select: none;
				cursor: default;
			}
			#buy-options {
				text-align: center;
				margin-top: 1em;
				grid-column: 1;
			}
			.sample-play-button {
				background-image: url(images/play.svg);
				background-repeat: no-repeat;
				background-position: center;
				background-size: 20px;
				border: none;
				background-color: transparent;
				height: 30px;
				width: 30px;
				cursor: pointer;
				grid-row: span 2;
			}
			#play-button {
				height: 50px;
				width: 50px;
				border-radius: 25px;
				background-image: url(images/play.svg);
				background-repeat: no-repeat;
				background-position: center;
				background-size: 20px;
				border: none;
				background-color: transparent;
				cursor: pointer;
				grid-row: span 2;
			}

			#track-progress {
				cursor: pointer;
				width: 100%;
			}
		</style>
	</head>
	<body>
		<div id="content">
			<h1>Peter Fernandes - Incline (2022)</h1>
			<div id="album-info">
				<div id="main-cover"></div>
				<div id="tracklist">
					<ol>
						<li>
							<div class="tracklist-item">
								<div class="track-title">Galaxy</div>
								<div class="track-personnel">
									<span class="personnel-credit">Guitar solos by <span class="personnel-name">Yuya Komoguchi</span></span>,
									<span class="personnel-credit">Bass by <span class="personnel-name">Ric Fierabracci</span></span>,
									<span class="personnel-credit">Drums by <span class="personnel-name">Thomas Lang</span></span>
								</div>
							</div>
						</li>
						<li>
							<div class="track-title">日曜日のお使い</div>
							<div class="track-personnel">
								<span class="personnel-credit">Guitar solos by <span class="personnel-name">Yuya Komoguchi</span></span>,
								<span class="personnel-credit">Backing guitars by <span class="personnel-name">Toshi Yanagi</span></span>,
								<span class="personnel-credit">Trumpet 1 by <span class="personnel-name">Wayne Bergeron</span></span>,
								<span class="personnel-credit">Trumpet 2 by <span class="personnel-name">Aaron Janik</span></span>,
								<span class="personnel-credit">Trombone by <span class="personnel-name">Andy Martin</span></span>,
								<span class="personnel-credit">Tenor sax by <span class="personnel-name">Brandon Fields</span></span>,
								<span class="personnel-credit">Bass by <span class="personnel-name">Ric Fierabracci</span></span>,
								<span class="personnel-credit">Drums by <span class="personnel-name">Joel Rosenblatt</span></span>
							</div>
						</li>
						<li>
							<div class="track-title">Western Capital</div>
							<div class="track-personnel">
								<span class="personnel-credit">EWI by <span class="personnel-name">Peter Fernandes</span></span>,
								<span class="personnel-credit">Bass by <span class="personnel-name">Ric Fierabracci</span></span>,
								<span class="personnel-credit">Drums by <span class="personnel-name">Thomas Lang</span></span>
							</div>
						</li>
						<li>
							<div class="track-title">Emmy</div>
							<div class="track-personnel">
								<span class="personnel-credit">Guitar solo by <span class="personnel-name">Richard Hallebeek</span></span>,
								<span class="personnel-credit">Soprano sax <span class="personnel-name">Brandon Fields</span></span>,
								<span class="personnel-credit">Bass by <span class="personnel-name">Ric Fierabracci</span></span>,
								<span class="personnel-credit">Drums by <span class="personnel-name">Thomas Lang</span></span>
							</div>
						</li>
						<li>
							<div class="track-title">Hemispheres</div>
							<div class="track-personnel">
								<span class="personnel-credit">Bass by <span class="personnel-name">Ric Fierabracci</span></span>,
								<span class="personnel-credit">Drums by <span class="personnel-name">Joel Rosenblatt</span></span>
							</div>
						</li>
						<li>
							<div class="track-title">Incline</div>
							<div class="track-personnel">
								<span class="personnel-credit">Vocals by <span class="personnel-name">Woody Mankowski</span></span>,
								<span class="personnel-credit">Guitar solos by <span class="personnel-name">Toshi Yanagi</span></span>,
								<span class="personnel-credit">Bass by <span class="personnel-name">Jimmy Johnson</span></span>,
								<span class="personnel-credit">Drums by <span class="personnel-name">Vinnie Colaiuta</span></span>
							</div>
						</li>
						<li>
							<div class="track-title">Decker</div>
							<div class="track-personnel">
								<span class="personnel-credit">Bass by <span class="personnel-name">Ric Fierabracci</span></span>,
								<span class="personnel-credit">Drums by <span class="personnel-name">Vinnie Colaiuta</span></span>
							</div>
						</li>
						<li>
							<div class="track-title">Keep Climbing</div>
							<div class="track-personnel">
								<span class="personnel-credit">Guitar by <span class="personnel-name">Yuya Komoguchi</span></span>,
								<span class="personnel-credit">Bass by <span class="personnel-name">Ric Fierabracci</span></span>,
								<span class="personnel-credit">Drums by <span class="personnel-name">Thomas Lang</span></span>
							</div>
						</li>
						<li>
							<div class="track-title">Timeline</div>
							<div class="track-personnel">
								<span class="personnel-credit">Guitar by <span class="personnel-name">Toshi Yanagi</span></span>,
								<span class="personnel-credit">Alto sax by <span class="personnel-name">Brandon Fields</span></span>,
								<span class="personnel-credit">Bass by <span class="personnel-name">Teppei Kawasaki</span></span>,
								<span class="personnel-credit">Drums by <span class="personnel-name">Joel Rosenblatt</span></span>
							</div>
						</li>
					</ol>
				</div>
				<div id="playback-controls">
					<button id="play-button" type="button"></button>
					<div id="track-title">Click track titles to play samples</div>
					<div>
						<progress id="track-progress" value="0"></progress>
					</div>
				</div>
				<div id="buy-options">
					<a href="#">Buy physical CD</a>
				</div>
			</div>
		</div>
		<script>
			const trackList = [{ title: "Galaxy", url: "https://s3.amazonaws.com/pfernandes.com/Dimension+Song+Demo.mp3" }];
			let currentTrackIndex = null;

			const audio = new Audio();
			const playButton = document.getElementById("play-button");
			const trackTitleText = document.getElementById("track-title");
			const progressBar = document.getElementById("track-progress");
			progressBar.onclick = evt => onProgressBarClick(evt);

			playButton.onclick = () => {
				if (currentTrackIndex == null)
				{
					currentTrackIndex = 0;
					audio.src = trackList[currentTrackIndex].url;
					audio.ontimeupdate = () => onTimeUpdate();
					audio.play();
					trackTitleText.textContent = trackList[currentTrackIndex].title;
					playButton.style.backgroundImage = `url(images/pause.svg)`;
				}
				else if (audio.paused)
				{
					audio.play();
					playButton.style.backgroundImage = `url(images/pause.svg)`;
				}
				else
				{
					audio.pause();
					playButton.style.backgroundImage = `url(images/play.svg)`;
				}
				
			};

			function onTimeUpdate()
			{
				const percentComplete = audio.currentTime / audio.duration;
				progressBar.value = percentComplete;
			}

			function onProgressBarClick(evt)
			{
				if (currentTrackIndex == null || audio.paused)
					return;
				
				const barRect = progressBar.getBoundingClientRect();
				const percentage = (evt.clientX - barRect.left) / barRect.width;
				audio.currentTime = percentage * audio.duration;
			}
		</script>
	</body>
</html>